"use strict";class MiniCart{miniCartAll(){var e=this;jQuery(".dropdown-toggle").dropdown(),e.remove_click_Outside(),$("#tbay-offcanvas-main .btn-toggle-canvas").on("click",function(){$("#tbay-offcanvas-main").removeClass("active")}),$(".mini-cart").click(function(t){0<$(t.currentTarget).parents(".tbay-topcart").length&&($(".tbay-dropdown-cart").addClass("active"),$(document.body).trigger("tbay_refreshed_mini_cart_top"))}),$(".offcanvas-close").click(function(t){t.preventDefault(),$(".tbay-dropdown-cart").removeClass("active")}),$(".mini-cart.v2").click(function(t){t.preventDefault(),$("#wrapper-container").toggleClass(t.currentTarget.dataset.offcanvas)})}remove_click_Outside(){$(".cart-close-sidebar, .offcanvas-close").click(function(t){t.preventDefault(),$("#wrapper-container").removeClass("offcanvas-right"),$("#wrapper-container").removeClass("offcanvas-left"),$(".tbay-dropdown-cart").removeClass("active"),$("#tbay-offcanvas-main,.tbay-offcanvas").removeClass("active"),$("#tbay-dropdown-cart").hide(500)})}minicartTopContent(){let e=$(".tbay_header-template .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content"),t=e.parent().find(".widget-header-cart").outerHeight(),a=$(".tbay_header-template .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content .mcart-border ul.product_list_widget"),n=a.next().outerHeight();e.css("top",t),a.css("bottom",n+10)}minicartTopContentmobile(){let e=$(".topbar-device-mobile .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content"),t=e.parent().find(".widget-header-cart").outerHeight(),a=$(".topbar-device-mobile .tbay-element-mini-cart .dropdown-content .widget_shopping_cart_content .mcart-border ul.product_list_widget"),n=a.next().outerHeight();e.css("top",t),a.css("bottom",n+10)}}const ADDED_TO_CART_EVENT="added_to_cart",LOADMORE_AJAX_HOME_PAGE="tbay_more_post_ajax",LOADMORE_AJAX_SHOP_PAGE="tbay_pagination_more_post_ajax",LIST_POST_AJAX_SHOP_PAGE="tbay_list_post_ajax",GRID_POST_AJAX_SHOP_PAGE="tbay_grid_post_ajax";class AjaxCart{constructor(){if("undefined"!=typeof besa_settings){let e=this;switch(e.ajaxCartPosition=besa_settings.cart_position,e.ajaxCartPosition){case"popup":e._initAjaxPopup();break;case"left":e._initAjaxCartLeftOrRight("left");break;case"right":e._initAjaxCartLeftOrRight("right");}MiniCart.prototype.miniCartAll(),e._initEventRemoveProduct(),e._initEventMiniCartAjaxQuantity(),$(window).on("resize",()=>{besa_settings.mobile&&992>$(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()}),$(document.body).on("wc_fragments_refreshed",function(){besa_settings.mobile&&992>$(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()}),$(document.body).on("wc_fragments_loaded",function(){besa_settings.mobile&&992>$(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()}),$(document.body).on("tbay_refreshed_mini_cart_top",function(){besa_settings.mobile&&992>$(window).width()?MiniCart.prototype.minicartTopContentmobile():MiniCart.prototype.minicartTopContent()})}}_initAjaxPopupContent(e){let t=$("#tbay-cart-modal"),a=$("#tbay-cart-modal").find(".modal-body-content"),n=besa_settings.popup_cart_success,o="",i=e.attr("aria-label");"undefined"==typeof i||(o+=`<div class="popup-cart">`,o+=`<div class="main-content">`,"style2"===besa_settings.skin&&(o+=`<p class="cart-success">${n}</p>`),o+=`<p class="cart-notification">${i}</p>`,!wc_add_to_cart_params.is_cart&&(o+=`<a class="button view-cart" href="${wc_add_to_cart_params.cart_url}" title="${wc_add_to_cart_params.i18n_view_cart}">${wc_add_to_cart_params.i18n_view_cart}</a>`),!besa_settings.is_checkout&&(o+=`<a class="button checkout" href="${besa_settings.checkout_url}" title="${besa_settings.i18n_checkout}">${besa_settings.i18n_checkout}</a>`),o+=`</div>`,o+=`</div>`,"undefined"!=typeof o&&(a.append(o),t.addClass("active"),jQuery(`.ajax_cart_popup`).trigger("active_ajax_cart_popup")))}_initAjaxPopup(){var e=this;return"undefined"!=typeof wc_add_to_cart_params&&void(besa_settings.ajax_popup_quick?jQuery(`.ajax_cart_popup`).on("click",".ajax_add_to_cart",function(){let t=$(this);e._initAjaxPopupContent(t)}):jQuery(`.ajax_cart_popup`).on(ADDED_TO_CART_EVENT,function(t,a,n,o){"undefined"==typeof a&&(a=$.parseJSON(sessionStorage.getItem(wc_cart_fragments_params.fragment_name))),e._initAjaxPopupContent(o)}),jQuery(`.ajax_cart_popup`).on("active_ajax_cart_popup",()=>{$("#tbay-cart-modal").hasClass("active")&&$("#tbay-cart-modal").on("click",function(){let e=$(this);$(this).closest("#tbay-cart-modal").removeClass("active"),setTimeout(function(){e.closest("#tbay-cart-modal").find(".modal-body .modal-body-content").empty()},300)})}))}_initAjaxCartLeftOrRight(e){jQuery(`.ajax_cart_${e}`).on(ADDED_TO_CART_EVENT,function(){$(".tbay-dropdown-cart").addClass("active"),$(document.body).trigger("wc_fragments_refreshed")})}_initEventRemoveProduct(){return"undefined"!=typeof wc_add_to_cart_params&&void $(document).on("click",".mini_cart_content a.remove",e=>{this._onclickRemoveProduct(e),e.stopPropagation()})}_onclickRemoveProduct(e){e.preventDefault();var t=$(e.currentTarget).attr("data-product_id"),a=$(e.currentTarget).attr("data-cart_item_key"),n=jQuery(e.currentTarget).parents(".mini_cart_item"),o=$(e.currentTarget).closest(".widget_shopping_cart_content");n.block({message:null,overlayCSS:{cursor:"none"}}),this._callRemoveProductAjax(t,a,o,e)}_callRemoveProductAjax(e,t,a,n){$.ajax({type:"POST",dataType:"json",url:wc_add_to_cart_params.ajax_url,data:{action:"product_remove",product_id:e,cart_item_key:t},beforeSend:function(){a.find(".mini_cart_content").append("<div class=\"ajax-loader-wapper\"><div class=\"ajax-loader\"></div></div>").fadeTo("slow",.3),n.stopPropagation()},success:t=>{this._onRemoveSuccess(t,e),$(document.body).trigger("wc_fragments_refreshed")}})}_onRemoveSuccess(e,t){if(e&&!e.error){var a=e.fragments;a&&$.each(a,function(e,t){$(e).replaceWith(t)}),$(".add_to_cart_button.added[data-product_id=\""+t+"\"]").removeClass("added").next(".wc-forward").remove()}}_initEventMiniCartAjaxQuantity(){$("body").on("change",".mini_cart_content .qty",function(e){e.preventDefault();var t=besa_settings.wc_ajax_url.toString().replace("%%endpoint%%","besa_quantity_mini_cart"),a=$(this),n=$(a).parents(".mini_cart_content"),o=$(a).attr("name").replace(/cart\[([\w]+)\]\[qty\]/g,"$1"),i=parseFloat($(a).attr("max"));i||(i=!1);var r=parseFloat($(a).val());0<i&&r>i&&($(a).val(i),r=i),$.ajax({url:t,type:"POST",dataType:"json",cache:!1,data:{hash:o,quantity:r},beforeSend:function(){n.append("<div class=\"ajax-loader-wapper\"><div class=\"ajax-loader\"></div></div>").fadeTo("slow",.3),e.stopPropagation()},success:function(e){e&&e.fragments&&($.each(e.fragments,function(e,t){$(e).length&&$(e).replaceWith(t)}),"undefined"!=typeof $supports_html5_storage&&$supports_html5_storage&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(e.fragments)),set_cart_hash(e.cart_hash),e.cart_hash&&set_cart_creation_timestamp()),$(document.body).trigger("wc_fragments_refreshed"))}})})}}class WishList{constructor(){this._onChangeWishListItem()}_onChangeWishListItem(){jQuery(document).on("added_to_wishlist removed_from_wishlist",()=>{var e=jQuery(".count_wishlist");0===e.length||$.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"yith_wcwl_update_wishlist_count"},dataType:"json",success:function(t){e.html(t.count)},beforeSend:function(){e.block()},complete:function(){e.unblock()}})})}}class ProductItem{initAddButtonQuantity(){if("undefined"!=typeof besa_settings){let e=$(".quantity input");e.each(function(){let e=$(`<button class="minus" type="button" value="&nbsp;">${besa_settings.quantity_minus}</button>`),t=$(`<button class="plus" type="button" value="&nbsp;">${besa_settings.quantity_plus}</button>`);return $(this).parent(".quantity").hasClass("buttons_added")?($(".minus").replaceWith(e),void $(".plus").replaceWith(t)):void($(this).parent(".box").length||($(this).wrap("<span class=\"box\"></span>"),e.insertBefore($(this)),t.insertAfter($(this))))})}}initOnChangeQuantity(e){"undefined"==typeof besa_settings||(this.initAddButtonQuantity(),$(document).off("click",".plus, .minus").on("click",".plus, .minus",function(t){if(t.preventDefault(),!$(this).parent(".quantity").hasClass("buttons_added")){var a=jQuery(this).closest(".quantity").find(".qty"),n=parseFloat(a.val()),o=$(a).attr("max"),i=$(a).attr("min"),r=$(a).attr("step");n=n&&""!==n&&"NaN"!==n?n:0,o=""===o||"NaN"===o?"":o,i=""===i||"NaN"===i?0:i,r="any"===r||""===r||void 0===r||parseFloat(r)===NaN?1:r,$(this).is(".plus")?o&&(o==n||n>o)?a.val(o):a.val(n+parseFloat(r)):i&&(i==n||n<i)?a.val(i):0<n&&a.val(n-parseFloat(r)),e&&"function"==typeof e&&($(this).parent().find("input").trigger("change"),e(),0<$(t.target).parents(".mini_cart_content").length&&t.stopPropagation())}}))}_initSwatches(){0===$(".tbay-swatches-wrapper li a").length||$("body").on("click",".tbay-swatches-wrapper li a",function(e){e.preventDefault();let t=!1,a=$(this).closest(".product-block");if(a.find(".tbay-product-slider-gallery").hasClass("slick-initialized"))var n=a.find(".image .slick-current img:eq(0)");else var n=a.find(".image img:eq(0)");$(this).closest("ul").hasClass("active")||($(this).closest("ul").addClass("active"),n.attr("data-old",n.attr("src"))),$(this).hasClass("selected")?(n.attr("src",n.data("old")),$(this).removeClass("selected"),a.removeClass("product-swatched")):($(this).closest("ul").find("li a").each(function(){$(this).hasClass("selected")&&$(this).removeClass("selected")}),$(this).addClass("selected"),a.addClass("product-swatched"),t=!0);t&&("undefined"!=typeof $(this).data("imageSrc")&&n.attr("src",$(this).data("imageSrc")),"undefined"!=typeof $(this).data("imageSrcset")&&n.attr("srcset",$(this).data("imageSrcset")),"undefined"!=typeof $(this).data("imageSizes")&&n.attr("sizes",$(this).data("imageSizes")))})}_initQuantityMode(){besa_settings.quantity_mode&&($(".woocommerce .products").on("click",".quantity input",function(){return!1}),$(".woocommerce .products").on("change input",".quantity .qty",function(){var e=$(this).parents(".product").find(".add_to_cart_button");e.attr("data-quantity",$(this).val())}),$(".woocommerce .products").on("keypress",".quantity .qty",function(t){13===(t.which||t.keyCode)&&$(this).parents(".product").find(".add_to_cart_button").trigger("click")}))}}class Cart{constructor(){this._initEventChangeQuantity(),$(document.body).on("updated_wc_div",()=>{this._initEventChangeQuantity(),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form()})}),$(document.body).on("cart_page_refreshed",()=>{this._initEventChangeQuantity()}),$(document.body).on("tbay_display_mode",()=>{this._initEventChangeQuantity()})}_initEventChangeQuantity(){0===$("body.woocommerce-cart [name='update_cart']").length?new ProductItem().initOnChangeQuantity(()=>{}):new ProductItem().initOnChangeQuantity(()=>{$(".woocommerce-cart-form :input[name=\"update_cart\"]").prop("disabled",!1),"undefined"!=typeof besa_settings&&besa_settings.ajax_update_quantity&&$("[name='update_cart']").trigger("click")})}}class Checkout{constructor(){this._toogleWoocommerceIcon()}_toogleWoocommerceIcon(){1>$(".woocommerce-info a").length||$(".woocommerce-info a").click(function(){$(this).find(".icons").toggleClass("icon-arrow-down").toggleClass("icon-arrow-up")})}}class LoadMore{constructor(){"undefined"==typeof besa_settings||(this._initLoadMoreOnHomePage(),this._initLoadMoreOnShopPage(),this._int_berocket_lmp_end())}_initLoadMoreOnHomePage(){var e=this;$(".more_products").each(function(){var t=$(this).data("id");$(`#more_products_${t} a[data-loadmore="true"]`).click(function(){var a=$(this);return e._callAjaxLoadMore({data:{action:LOADMORE_AJAX_HOME_PAGE,paged:$(this).data("paged")+1,number:$(this).data("number"),columns:$(this).data("columns"),layout:$(this).data("layout"),type:$(this).data("type"),category:$(this).data("category"),screen_desktop:$(this).data("desktop"),screen_desktopsmall:$(this).data("desktopsmall"),screen_tablet:$(this).data("tablet"),screen_mobile:$(this).data("mobile")},event:a,id:t,thisItem:$(this).parent().parent()}),!1})})}_initLoadMoreOnShopPage(){$(".tbay-pagination-load-more").each(function(){$(this).data("id"),$(".tbay-pagination-load-more a[data-loadmore=\"true\"]").click(function(){var e=$(this),t={action:LOADMORE_AJAX_SHOP_PAGE,query:besa_settings.posts,page:besa_settings.current_page};return $.ajax({url:besa_settings.ajaxurl,data:t,type:"POST",beforeSend:function(){e.addClass("active")},success:function(t){t?(e.closest("#main").find(".display-products > div").append(t),besa_settings.current_page++,e.removeClass("active"),besa_settings.current_page==besa_settings.max_page&&e.remove()):e.remove()}}),!1})})}_callAjaxLoadMore(e){var t=this,a=e.data,n=e.event;$.ajax({type:"POST",dataType:"JSON",url:woocommerce_params.ajax_url,data:a,beforeSend:function(){n.addClass("active")},success:function(a){t._onAjaxSuccess(a,e)}})}_onAjaxSuccess(e,t){var a=t.data,n=t.event;!1==e.check&&n.remove(),n.data("paged",a.paged),n.data("number",a.number+a.columns*(t.data.action===LOADMORE_AJAX_HOME_PAGE?3:2));var o=t.data.action===LOADMORE_AJAX_HOME_PAGE?$(`.widget_products_${t.id} .products>.row`):$(".archive-shop .products >.row");o.append(e.posts),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),jQuery(`.variable-load-more-${a.paged}`).tawcvs_variation_swatches_form(),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),n.find(".loadding").remove(),n.removeClass("active"),n.button("reset"),t.thisItem.removeAttr("style")}_int_berocket_lmp_end(){$(document).on("berocket_lmp_end",()=>{$(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized"))})}}class ModalVideo{constructor(e,t={classBtn:".tbay-modalButton",defaultW:640,defaultH:360}){this.$el=e,this.options=t,this._initVideoIframe()}_initVideoIframe(){$(`${this.options.classBtn}[data-target='${this.$el}']`).on("click",this._onClickModalBtn),$(this.$el).on("hidden.bs.modal",()=>{$(this.$el).find("iframe").html("").attr("src","")})}_onClickModalBtn(e){let t=$(e.currentTarget).data("target");var a=$(e.currentTarget).attr("data-tbayVideoFullscreen")||!1,n={src:$(e.currentTarget).attr("data-tbaySrc"),height:$(e.currentTarget).attr("data-tbayHeight")||this.options.defaultH,width:$(e.currentTarget).attr("data-tbayWidth")||this.options.defaultW};a&&(n.allowfullscreen=""),$(t).find("iframe").attr(n),e.preventDefault()}}class WooCommon{constructor(){this._tbayVideoModal(),this._tbayFixRemove(),$(document.body).on("tbayFixRemove",()=>{this._tbayFixRemove()})}_tbayVideoModal(){$(".tbay-video-modal").each((e,t)=>{new ModalVideo(`#video-modal-${$(t).attr("data-id")}`)})}_tbayFixRemove(){$(".tbay-gallery-varible .woocommerce-product-gallery__trigger").remove()}}/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)})(function(t){var a,n,o,i,r,s,d=function(){},l=!!window.jQuery,c=t(window),p=function(e,t){a.ev.on("mfp"+e+".mfp",t)},m=function(e,a,n,o){var i=document.createElement("div");return i.className="mfp-"+e,n&&(i.innerHTML=n),o?a&&a.appendChild(i):(i=t(i),a&&i.appendTo(a)),i},f=function(n,o){a.ev.triggerHandler("mfp"+n,o),a.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),a.st.callbacks[n]&&a.st.callbacks[n].apply(a,t.isArray(o)?o:[o]))},u=function(e){return e===s&&a.currTemplate.closeBtn||(a.currTemplate.closeBtn=t(a.st.closeMarkup.replace("%title%",a.st.tClose)),s=e),a.currTemplate.closeBtn},g=function(){t.magnificPopup.instance||(a=new d,a.init(),t.magnificPopup.instance=a)},b=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(e.transition!==void 0)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};d.prototype={constructor:d,init:function(){var e=navigator.appVersion;a.isLowIE=a.isIE8=document.all&&!document.addEventListener,a.isAndroid=/android/gi.test(e),a.isIOS=/iphone|ipad|ipod/gi.test(e),a.supportsTransition=b(),a.probablyMobile=a.isAndroid||a.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=t(document),a.popupsCache={}},open:function(e){var d;if(!1===e.isObj){a.items=e.items.toArray(),a.index=0;var l,g=e.items;for(d=0;d<g.length;d++)if(l=g[d],l.parsed&&(l=l.el[0]),l===e.el[0]){a.index=d;break}}else a.items=t.isArray(e.items)?e.items:[e.items],a.index=e.index||0;if(a.isOpen)return void a.updateItemHTML();a.types=[],r="",a.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):o,e.key?(!a.popupsCache[e.key]&&(a.popupsCache[e.key]={}),a.currTemplate=a.popupsCache[e.key]):a.currTemplate={},a.st=t.extend(!0,{},t.magnificPopup.defaults,e),a.fixedContentPos="auto"===a.st.fixedContentPos?!a.probablyMobile:a.st.fixedContentPos,a.st.modal&&(a.st.closeOnContentClick=!1,a.st.closeOnBgClick=!1,a.st.showCloseBtn=!1,a.st.enableEscapeKey=!1),a.bgOverlay||(a.bgOverlay=m("bg").on("click.mfp",function(){a.close()}),a.wrap=m("wrap").attr("tabindex",-1).on("click.mfp",function(t){a._checkIfClose(t.target)&&a.close()}),a.container=m("container",a.wrap)),a.contentContainer=m("content"),a.st.preloader&&(a.preloader=m("preloader",a.container,a.st.tLoading));var b=t.magnificPopup.modules;for(d=0;d<b.length;d++){var y=b[d];y=y.charAt(0).toUpperCase()+y.slice(1),a["init"+y].call(a)}f("BeforeOpen"),a.st.showCloseBtn&&(a.st.closeBtnInside?(p("MarkupParse",function(t,e,a,n){a.close_replaceWith=u(n.type)}),r+=" mfp-close-btn-in"):a.wrap.append(u())),a.st.alignTop&&(r+=" mfp-align-top"),a.fixedContentPos?a.wrap.css({overflow:a.st.overflowY,overflowX:"hidden",overflowY:a.st.overflowY}):a.wrap.css({top:c.scrollTop(),position:"absolute"}),!1!==a.st.fixedBgPos&&("auto"!==a.st.fixedBgPos||a.fixedContentPos)||a.bgOverlay.css({height:o.height(),position:"absolute"}),a.st.enableEscapeKey&&o.on("keyup.mfp",function(t){27===t.keyCode&&a.close()}),c.on("resize.mfp",function(){a.updateSize()}),a.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&a.wrap.addClass(r);var _=a.wH=c.height(),h={};if(a.fixedContentPos&&a._hasScrollBar(_)){var v=a._getScrollbarSize();v&&(h.marginRight=v)}a.fixedContentPos&&(a.isIE7?t("body, html").css("overflow","hidden"):h.overflow="hidden");var s=a.st.mainClass;return a.isIE7&&(s+=" mfp-ie7"),s&&a._addClassToMFP(s),a.updateItemHTML(),f("BuildControls"),t("html").css(h),a.bgOverlay.add(a.wrap).prependTo(a.st.prependTo||t(document.body)),a._lastFocusedEl=document.activeElement,setTimeout(function(){a.content?(a._addClassToMFP("mfp-ready"),a._setFocus()):a.bgOverlay.addClass("mfp-ready"),o.on("focusin.mfp",a._onFocusIn)},16),a.isOpen=!0,a.updateSize(_),f("Open"),e},close:function(){a.isOpen&&(f("BeforeClose"),a.isOpen=!1,a.st.removalDelay&&!a.isLowIE&&a.supportsTransition?(a._addClassToMFP("mfp-removing"),setTimeout(function(){a._close()},a.st.removalDelay)):a._close())},_close:function(){f("Close");var e="mfp-removing mfp-ready ";if(a.bgOverlay.detach(),a.wrap.detach(),a.container.empty(),a.st.mainClass&&(e+=a.st.mainClass+" "),a._removeClassFromMFP(e),a.fixedContentPos){var n={marginRight:""};a.isIE7?t("body, html").css("overflow",""):n.overflow="",t("html").css(n)}o.off("keyup.mfp focusin.mfp"),a.ev.off(".mfp"),a.wrap.attr("class","mfp-wrap").removeAttr("style"),a.bgOverlay.attr("class","mfp-bg"),a.container.attr("class","mfp-container"),a.st.showCloseBtn&&(!a.st.closeBtnInside||!0===a.currTemplate[a.currItem.type])&&a.currTemplate.closeBtn&&a.currTemplate.closeBtn.detach(),a.st.autoFocusLast&&a._lastFocusedEl&&t(a._lastFocusedEl).focus(),a.currItem=null,a.content=null,a.currTemplate=null,a.prevHeight=0,f("AfterClose")},updateSize:function(e){if(a.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;a.wrap.css("height",n),a.wH=n}else a.wH=e||c.height();a.fixedContentPos||a.wrap.css("height",a.wH),f("Resize")},updateItemHTML:function(){var e=a.items[a.index];a.contentContainer.detach(),a.content&&a.content.detach(),e.parsed||(e=a.parseEl(a.index));var n=e.type;if(f("BeforeChange",[a.currItem?a.currItem.type:"",n]),a.currItem=e,!a.currTemplate[n]){var o=!!a.st[n]&&a.st[n].markup;f("FirstMarkupParse",o),a.currTemplate[n]=!o||t(o)}i&&i!==e.type&&a.container.removeClass("mfp-"+i+"-holder");var r=a["get"+n.charAt(0).toUpperCase()+n.slice(1)](e,a.currTemplate[n]);a.appendContent(r,n),e.preloaded=!0,f("Change",e),i=e.type,a.container.prepend(a.contentContainer),f("AfterChange")},appendContent:function(e,t){a.content=e,e?a.st.showCloseBtn&&a.st.closeBtnInside&&!0===a.currTemplate[t]?!a.content.find(".mfp-close").length&&a.content.append(u()):a.content=e:a.content="",f("BeforeAppend"),a.container.addClass("mfp-"+t+"-holder"),a.contentContainer.append(a.content)},parseEl:function(e){var n,o=a.items[e];if(o.tagName?o={el:t(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var r=a.types,s=0;s<r.length;s++)if(o.el.hasClass("mfp-"+r[s])){n=r[s];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||a.st.type||"inline",o.index=e,o.parsed=!0,a.items[e]=o,f("ElementParse",o),a.items[e]},addGroup:function(t,n){var o=function(o){o.mfpEl=this,a._openClick(o,t,n)};n||(n={});var i="click.magnificPopup";n.mainEl=t,n.items?(n.isObj=!0,t.off("click.magnificPopup").on("click.magnificPopup",o)):(n.isObj=!1,n.delegate?t.off("click.magnificPopup").on("click.magnificPopup",n.delegate,o):(n.items=t,t.off("click.magnificPopup").on("click.magnificPopup",o)))},_openClick:function(n,e,o){var i=o.midClick===void 0?t.magnificPopup.defaults.midClick:o.midClick;if(!(!i&&(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey))){var r=void 0===o.disableOn?t.magnificPopup.defaults.disableOn:o.disableOn;if(r)if(t.isFunction(r)){if(!r.call(a))return!0;}else if(c.width()<r)return!0;n.type&&(n.preventDefault(),a.isOpen&&n.stopPropagation()),o.el=t(n.mfpEl),o.delegate&&(o.items=e.find(o.delegate)),a.open(o)}},updateStatus:function(e,t){if(a.preloader){n!==e&&a.container.removeClass("mfp-s-"+n),t||"loading"!==e||(t=a.st.tLoading);var o={status:e,text:t};f("UpdateStatus",o),e=o.status,t=o.text,a.preloader.html(t),a.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),a.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(e){if(!t(e).hasClass("mfp-prevent-close")){var n=a.st.closeOnContentClick,o=a.st.closeOnBgClick;if(n&&o)return!0;if(!a.content||t(e).hasClass("mfp-close")||a.preloader&&e===a.preloader[0])return!0;if(e!==a.content[0]&&!t.contains(a.content[0],e)){if(o&&t.contains(document,e))return!0;}else if(n)return!0;return!1}},_addClassToMFP:function(e){a.bgOverlay.addClass(e),a.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),a.wrap.removeClass(e)},_hasScrollBar:function(e){return(a.isIE7?o.height():document.body.scrollHeight)>(e||c.height())},_setFocus:function(){(a.st.focus?a.content.find(a.st.focus).eq(0):a.wrap).focus()},_onFocusIn:function(n){if(n.target!==a.wrap[0]&&!t.contains(a.wrap[0],n.target))return a._setFocus(),!1},_parseMarkup:function(e,a,n){var o;n.data&&(a=t.extend(n.data,a)),f("MarkupParse",[e,a,n]),t.each(a,function(a,n){if(void 0===n||!1===n)return!0;if(o=a.split("_"),1<o.length){var i=e.find(".mfp-"+o[0]);if(0<i.length){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith(t("<img>").attr("src",n).attr("class",i.attr("class"))):i.attr(o[1],n)}}else e.find(".mfp-"+a).html(n)})},_getScrollbarSize:function(){if(a.scrollbarSize===void 0){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),a.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return a.scrollbarSize}},t.magnificPopup={instance:null,proto:d.prototype,modules:[],open:function(e,a){return g(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=a||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,a){a.options&&(t.magnificPopup.defaults[e]=a.options),t.extend(this.proto,a.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>",tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(e){g();var n=t(this);if(!("string"==typeof e))e=t.extend(!0,{},e),l?n.data("magnificPopup",e):n[0].magnificPopup=e,a.addGroup(n,e);else if("open"===e){var o,i=l?n.data("magnificPopup"):n[0].magnificPopup,r=parseInt(arguments[1],10)||0;i.items?o=i.items[r]:(o=n,i.delegate&&(o=o.find(i.delegate)),o=o.eq(r)),a._openClick({mfpEl:o},n,i)}else a.isOpen&&a[e].apply(a,Array.prototype.slice.call(arguments,1));return n};var y,_,h,v=function(){h&&(_.after(h.addClass(y)).detach(),h=null)};t.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){a.types.push("inline"),p("Close.inline",function(){v()})},getInline:function(e,n){if(v(),e.src){var o=a.st.inline,i=t(e.src);if(i.length){var r=i[0].parentNode;r&&r.tagName&&(!_&&(y=o.hiddenClass,_=m(y),y="mfp-"+y),h=i.after(_).detach().removeClass(y)),a.updateStatus("ready")}else a.updateStatus("error",o.tNotFound),i=t("<div>");return e.inlineElement=i,i}return a.updateStatus("ready"),a._parseMarkup(n,{},e),n}}});var C,w=function(){C&&t(document.body).removeClass(C)},x=function(){w(),a.req&&a.req.abort()};t.magnificPopup.registerModule("ajax",{options:{settings:null,cursor:"mfp-ajax-cur",tError:"<a href=\"%url%\">The content</a> could not be loaded."},proto:{initAjax:function(){a.types.push("ajax"),C=a.st.ajax.cursor,p("Close.ajax",x),p("BeforeChange.ajax",x)},getAjax:function(e){C&&t(document.body).addClass(C),a.updateStatus("loading");var n=t.extend({url:e.src,success:function(n,o,i){var r={data:n,xhr:i};f("ParseAjax",r),a.appendContent(t(r.data),"ajax"),e.finished=!0,w(),a._setFocus(),setTimeout(function(){a.wrap.addClass("mfp-ready")},16),a.updateStatus("ready"),f("AjaxContentAdded")},error:function(){w(),e.finished=e.loadError=!0,a.updateStatus("error",a.st.ajax.tError.replace("%url%",e.src))}},a.st.ajax.settings);return a.req=t.ajax(n),""}}});var k,j=function(e){if(e.data&&e.data.title!==void 0)return e.data.title;var n=a.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(a,e);if(e.el)return e.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:"<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:"<a href=\"%url%\">The image</a> could not be loaded."},proto:{initImage:function(){var e=a.st.image,n=".image";a.types.push("image"),p("Open.image",function(){"image"===a.currItem.type&&e.cursor&&t(document.body).addClass(e.cursor)}),p("Close.image",function(){e.cursor&&t(document.body).removeClass(e.cursor),c.off("resize.mfp")}),p("Resize.image",a.resizeImage),a.isLowIE&&p("AfterChange",a.resizeImage)},resizeImage:function(){var e=a.currItem;if(e&&e.img&&a.st.image.verticalFit){var t=0;a.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",a.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,k&&clearInterval(k),e.isCheckingImgSize=!1,f("ImageHasSize",e),e.imgHidden&&(a.content&&a.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,n=e.img[0],o=function(i){k&&clearInterval(k),k=setInterval(function(){return 0<n.naturalWidth?void a._onImageHasSize(e):void(200<t&&clearInterval(k),t++,3===t?o(10):40===t?o(50):100==t&&o(500))},i)};o(1)},getImage:function(e,n){var o=0,i=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===a.currItem&&(a._onImageHasSize(e),a.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,f("ImageLoadComplete")):(o++,200>o?setTimeout(i,100):r()))},r=function(){e&&(e.img.off(".mfploader"),e===a.currItem&&(a._onImageHasSize(e),a.updateStatus("error",s.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},s=a.st.image,d=n.find(".mfp-img");if(d.length){var l=document.createElement("img");l.className="mfp-img",e.el&&e.el.find("img").length&&(l.alt=e.el.find("img").attr("alt")),e.img=t(l).on("load.mfploader",i).on("error.mfploader",r),l.src=e.src,d.is("img")&&(e.img=e.img.clone()),l=e.img[0],0<l.naturalWidth?e.hasSize=!0:!l.width&&(e.hasSize=!1)}return(a._parseMarkup(n,{title:j(e),img_replaceWith:e.img},e),a.resizeImage(),e.hasSize)?(k&&clearInterval(k),e.loadError?(n.addClass("mfp-loading"),a.updateStatus("error",s.tError.replace("%url%",e.src))):(n.removeClass("mfp-loading"),a.updateStatus("ready")),n):(a.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,n.addClass("mfp-loading"),a.findImageSize(e)),n)}}});var S,P=function(){return void 0===S&&(S=void 0!==document.createElement("p").style.MozTransform),S};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=a.st.zoom,o=".zoom";if(n.enabled&&a.supportsTransition){var t,i,r=n.duration,s=function(e){var a=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),o="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return i["-webkit-transition"]=i["-moz-transition"]=i["-o-transition"]=i.transition=o,a.css(i),a},d=function(){a.content.css("visibility","visible")};p("BuildControls.zoom",function(){if(a._allowZoom()){if(clearTimeout(t),a.content.css("visibility","hidden"),e=a._getItemToZoom(),!e)return void d();i=s(e),i.css(a._getOffset()),a.wrap.append(i),t=setTimeout(function(){i.css(a._getOffset(!0)),t=setTimeout(function(){d(),setTimeout(function(){i.remove(),e=i=null,f("ZoomAnimationEnded")},16)},r)},16)}}),p("BeforeClose.zoom",function(){if(a._allowZoom()){if(clearTimeout(t),a.st.removalDelay=r,!e){if(e=a._getItemToZoom(),!e)return;i=s(e)}i.css(a._getOffset(!0)),a.wrap.append(i),a.content.css("visibility","hidden"),setTimeout(function(){i.css(a._getOffset())},16)}}),p("Close.zoom",function(){a._allowZoom()&&(d(),i&&i.remove(),e=null)})}},_allowZoom:function(){return"image"===a.currItem.type},_getItemToZoom:function(){return!!a.currItem.hasSize&&a.currItem.img},_getOffset:function(e){var n;n=e?a.currItem.img:a.st.zoom.opener(a.currItem.el||a.currItem);var o=n.offset(),i=parseInt(n.css("padding-top"),10),r=parseInt(n.css("padding-bottom"),10);o.top-=t(window).scrollTop()-i;var s={width:n.width(),height:(l?n.innerHeight():n[0].offsetHeight)-r-i};return P()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var I=function(e){if(a.currTemplate.iframe){var t=a.currTemplate.iframe.find("iframe");t.length&&(!e&&(t[0].src="//about:blank"),a.isIE8&&t.css("display",e?"block":"none"))}};t.magnificPopup.registerModule("iframe",{options:{markup:"<div class=\"mfp-iframe-scaler\"><div class=\"mfp-close\"></div><iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe></div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){a.types.push("iframe"),p("BeforeChange",function(t,e,a){e!==a&&(e==="iframe"?I():a==="iframe"&&I(!0))}),p("Close.iframe",function(){I()})},getIframe:function(e,n){var o=e.src,i=a.st.iframe;t.each(i.patterns,function(){if(-1<o.indexOf(this.index))return this.id&&("string"==typeof this.id?o=o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):o=this.id.call(this,o)),o=this.src.replace("%id%",o),!1});var r={};return i.srcAction&&(r[i.srcAction]=o),a._parseMarkup(n,r,e),a.updateStatus("ready"),n}}});var T=function(e){var t=a.items.length;if(e>t-1)return e-t;return 0>e?t+e:e},O=function(e,t,a){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,a)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:"<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>",preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=a.st.gallery,i=".mfp-gallery";return a.direction=!0,!!(n&&n.enabled)&&void(r+=" mfp-gallery",p("Open.mfp-gallery",function(){n.navigateByImgClick&&a.wrap.on("click.mfp-gallery",".mfp-img",function(){if(1<a.items.length)return a.next(),!1}),o.on("keydown.mfp-gallery",function(t){37===t.keyCode?a.prev():39===t.keyCode&&a.next()})}),p("UpdateStatus.mfp-gallery",function(t,e){e.text&&(e.text=O(e.text,a.currItem.index,a.items.length))}),p("MarkupParse.mfp-gallery",function(t,e,o,i){var r=a.items.length;o.counter=1<r?O(n.tCounter,i.index,r):""}),p("BuildControls.mfp-gallery",function(){if(1<a.items.length&&n.arrows&&!a.arrowLeft){var e=n.arrowMarkup,o=a.arrowLeft=t(e.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass("mfp-prevent-close"),i=a.arrowRight=t(e.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass("mfp-prevent-close");o.click(function(){a.prev()}),i.click(function(){a.next()}),a.container.append(o.add(i))}}),p("Change.mfp-gallery",function(){a._preloadTimeout&&clearTimeout(a._preloadTimeout),a._preloadTimeout=setTimeout(function(){a.preloadNearbyImages(),a._preloadTimeout=null},16)}),p("Close.mfp-gallery",function(){o.off(".mfp-gallery"),a.wrap.off("click.mfp-gallery"),a.arrowRight=a.arrowLeft=null}))},next:function(){a.direction=!0,a.index=T(a.index+1),a.updateItemHTML()},prev:function(){a.direction=!1,a.index=T(a.index-1),a.updateItemHTML()},goTo:function(e){a.direction=e>=a.index,a.index=e,a.updateItemHTML()},preloadNearbyImages:function(){var t,e=Math.min,n=a.st.gallery.preload,o=e(n[0],a.items.length),r=e(n[1],a.items.length);for(t=1;t<=(a.direction?r:o);t++)a._preloadItem(a.index+t);for(t=1;t<=(a.direction?o:r);t++)a._preloadItem(a.index-t)},_preloadItem:function(e){if(e=T(e),!a.items[e].preloaded){var n=a.items[e];n.parsed||(n=a.parseEl(e)),f("LazyLoad",n),"image"===n.type&&(n.img=t("<img class=\"mfp-img\" />").on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,f("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});t.magnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var t=a.st.retina,n=t.ratio;n=isNaN(n)?n():n,1<n&&(p("ImageHasSize.retina",function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})}),p("ElementParse.retina",function(a,e){e.src=t.replaceSrc(e,n)}))}}}}),g()});class QuickView{constructor(){this._init_tbay_quick_view()}_init_tbay_quick_view(){if("undefined"!=typeof besa_settings){var t=this;$(document).off("click","a.qview-button").on("click","a.qview-button",function(a){a.preventDefault();let e=$(this);e.parent().addClass("loading");let n=e.attr("data-effect"),o=!1,i=$(this).data("product_id"),r=besa_settings.ajaxurl+"?action=besa_quickview_product&product_id="+i;"undefined"!=typeof besa_settings.loader&&(o=!0,e.block({message:null,overlayCSS:{background:"#fff url("+besa_settings.loader+") no-repeat center",opacity:.5,cursor:"none"}})),t._ajax_call(e,r,o,n),a.stopPropagation()})}}_ajax_call(e,t,a,n){$.get(t,function(t,o){$.magnificPopup.open({removalDelay:100,callbacks:{beforeOpen:function(){this.st.mainClass=n+" besa-quickview"}},items:{src:t,type:"inline"}});let i=$("#tbay-quick-view-content"),r=i.find(".variations_form");"undefined"!=typeof wc_add_to_cart_variation_params&&r.each(function(){$(this).wc_variation_form()}),$(document.body).trigger("updated_wc_div"),e.parent().removeClass("loading"),a&&e.unblock(),$(document.body).trigger("tbay_quick_view"),$(document.body).trigger("tbay_carousel_slick")})}}class DisplayMode{constructor(){"undefined"==typeof besa_settings||(this._initModeListShopPage(),this._initModeGridShopPage(),$(document.body).on("displayMode",()=>{this._initModeListShopPage(),this._initModeGridShopPage()}))}_initModeListShopPage(){$("#display-mode-list").each(function(e){$(this).click(function(){if(!$(this).hasClass("active")){var e=$(this),t={action:LIST_POST_AJAX_SHOP_PAGE,query:besa_settings.posts};return $.ajax({url:besa_settings.ajaxurl,data:t,type:"POST",beforeSend:function(t){e.closest("#main").find(".display-products").addClass("load-ajax")},success:function(t){t&&(e.parent().children().removeClass("active"),e.addClass("active"),e.closest("#main").find(".display-products > div").html(t),e.closest("#main").find(".display-products").fadeOut(0,function(){$(this).addClass("products-list").removeClass("products-grid grid").fadeIn(300)}),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),$(document.body).trigger("tbay_display_mode"),e.closest("#main").find(".display-products").removeClass("load-ajax"),Cookies.set("besa_display_mode","list",{expires:.1,path:"/"}))}}),!1}})})}_initModeGridShopPage(){$("#display-mode-grid").each(function(e){$(this).click(function(){if(!$(this).hasClass("active")){var e=$(this),t={action:GRID_POST_AJAX_SHOP_PAGE,query:besa_settings.posts};return e.closest("#main").find("div.display-products"),$.ajax({url:besa_settings.ajaxurl,data:t,type:"POST",beforeSend:function(t){e.closest("#main").find(".display-products").addClass("load-ajax")},success:function(t){if(t){e.parent().children().removeClass("active"),e.addClass("active"),e.closest("#main").find(".display-products > div").html(t);let a=e.closest("#main").find("div.display-products");a.fadeOut(0,function(){$(this).addClass("products-grid").removeClass("products-list").fadeIn(300)}),"undefined"!=typeof wc_add_to_cart_variation_params&&$(".variations_form").each(function(){$(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),$(document.body).trigger("tbay_display_mode"),e.closest("#main").find(".display-products").removeClass("load-ajax"),Cookies.set("besa_display_mode","grid",{expires:.1,path:"/"})}}}),!1}})})}}class AjaxFilter{constructor(){this._intAjaxFilter()}_intAjaxFilter(){function e(t){jQuery(".woocommerce-product-gallery").each(function(){jQuery(this).wc_product_gallery()}),jQuery(document.body).trigger("tbayFixRemove"),jQuery(document.body).trigger("displayMode"),jQuery(document.body).trigger("ajax_sidebar_shop_mobile"),$(".filter-mobile").hasClass("active")&&($(".filter-mobile").removeClass("active"),$("body").removeClass("filter-mobile-active")),"undefined"!=typeof tawcvs_variation_swatches_form&&($(".variations_form").tawcvs_variation_swatches_form(),$(document.body).trigger("tawcvs_initialized")),jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()})}jQuery(document).on("woof_ajax_done",e)}}class ShopProduct{constructor(){var e=this;e._SidebarShopMobile(),e._removeProductCategory(),$(document.body).on("ajax_sidebar_shop_mobile",()=>{e._SidebarShopMobile(),$(".filter-btn-wrapper").removeClass("active"),$("body").removeClass("filter-mobile-active")})}_SidebarShopMobile(){let e=$(".button-filter-mobile"),t=$(".filter-mobile .close, .tbay-close-side-mobile");0===e.length||(e.off("click").on("click",function(t){$(".filter-mobile").addClass("active"),$("body").addClass("filter-mobile-active")}),t.off("click").on("click",function(t){$(".filter-mobile").removeClass("active"),$("body").removeClass("filter-mobile-active")}))}_removeProductCategory(){let e=$(".archive-shop .display-products .product-category");0===e.length||e.remove()}}class SingleProduct{constructor(){var e=this;e._intStickyMenuBar(),e._intNavImage(),e._intReviewPopup(),e._intShareMobile(),e._intTabsMobile(),e._initBuyNow(),e._initChangeImageVarible(),e._initOpenAttributeMobile(),e._initCloseAttributeMobile(),e._initCloseAttributeMobileWrapper(),e._initAddToCartClickMobile(),e._initBuyNowClickMobile(),e._initAddToBidClickMobile(),e._initBuyNowBidClickMobile(),e._initCloseAuctionsAttributeMobileWrapper(),e._initCloseAuctionsAttributeMobile(),setTimeout(function(){jQuery(document.body).on("tbay_quick_view",()=>{e._initBuyNow()})},2e3),e._init_yith_auction()}_init_yith_auction(){let e=$("#yith-wcact-form-bid"),t=e.find(".ywcact-currency-symbol"),a=e.find(".quantity");0===t.length||0<a.length&&a.append(t)}_intStickyMenuBar(){$("body").on("click","#sticky-custom-add-to-cart",function(e){$("#shop-now .single_add_to_cart_button").click(),e.stopPropagation()})}_intNavImage(){$(window).scroll(function(){let e=400<$(this).scrollTop();$(".product-nav").toggleClass("active",e)})}_intReviewPopup(){if(0!==$("#list-review-images").length){var e=[];$("#list-review-images").find(".review-item").each(function(){var t=$(this).find("a"),a={src:t.attr("href"),w:t.data("width"),h:t.data("height"),title:t.data("caption")};e.push(a)}),$("#list-review-images a").off("click").on("click",function(t){t.preventDefault();var a=$(".pswp")[0],n={index:$(this).parents(".review-item").index(),showHideOpacity:!0,closeOnVerticalDrag:!1,mainClass:"pswp-review-images"},o=new PhotoSwipe(a,PhotoSwipeUI_Default,e,n);o.init(),t.stopPropagation()})}}_intShareMobile(){let e=$(".woo-share-mobile"),t=$(".image-mains .show-mobile .woo-share-mobile .share-content .share-header .share-close i");e.find("button").click(function(){$(event.target).parents(".woo-share-mobile").toggleClass("open"),$("body").toggleClass("overflow-y")});let a=$(window),n=$(".woo-share-mobile button, .woo-share-mobile button i, .woo-share-mobile .content, .woo-share-mobile .share-title, .woo-share-mobile .share-close");a.on("click.Bst",function(t){e.hasClass("open")&&(0!=n.has(t.target).length||n.is(t.target)||(e.removeClass("open"),$("body").removeClass("overflow-y")))}),t.click(function(){e.removeClass("open"),$("body").removeClass("overflow-y")})}_intTabsMobile(){let t=$(".woocommerce-tabs-mobile"),a=t.find(".tabs-mobile a"),n=t.find(".wc-tab-mobile .close-tab"),o=$("body"),i=$(".tabs-sidebar");0===t.length||(a.click(function(a){a.preventDefault();let e=$(this).data("tabid");o.addClass("overflow-y"),i.addClass("open"),t.find(".wc-tab-mobile").removeClass("open"),$("#"+e).addClass("open")}),n.click(function(t){t.preventDefault(),i.removeClass("open"),o.removeClass("overflow-y"),$(this).closest(".wc-tab-mobile").removeClass("open")}))}_initBuyNow(){0===$(".tbay-buy-now").length||($("body").on("click",".tbay-buy-now",function(t){t.preventDefault();let e=$(this).closest("form.cart"),a=e.find("[type=\"submit\"]"),n=e.find("input[name=\"besa_buy_now\"]"),o=a.is(".disabled");o?a.trigger("click"):(n.val("1"),e.find(".single_add_to_cart_button").click())}),$(document.body).on("check_variations",function(){let e=$("form.variations_form").find(".single_add_to_cart_button");e.each(function(e){let t=$(this).is(".disabled");t?$(this).parent().find(".tbay-buy-now").addClass("disabled"):$(this).parent().find(".tbay-buy-now").removeClass("disabled")})}))}_initFeatureVideo(){if("undefined"!=typeof besa_settings){let e=$(document).find(besa_settings.img_class_container+".tbay_featured_content");if(0!==e.length){let t=e.index(),a=$(besa_settings.thumbnail_gallery_class_element).get(t);$(a).addClass("tbay_featured_thumbnail")}}}_initChangeImageVarible(){let e=$(".information form.variations_form");0===e.length||(e.on("change",function(){var t=$(this),a=[];t.find(".variations tr").each(function(){"undefined"!=typeof $(this).find("select").val()&&a.push($(this).find("select option:selected").text())}),t.parent().find(".mobile-attribute-list .value").empty().append(a.join("/ ")),e.find(".single_variation_wrap .single_variation").is(":empty")?e.find(".mobile-infor-wrapper .infor-body").empty().append(e.closest(".information").find(".price-wrapper .price").html()).wrapInner("<p class=\"price\"></p>"):e.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")?(e.find(".mobile-infor-wrapper .infor-body").empty().append(e.find(".single_variation_wrap .single_variation").html()),e.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-price").empty().append(e.closest(".information").find(".price-wrapper .price").html()).wrapInner("<p class=\"price\"></p>")):e.find(".mobile-infor-wrapper .infor-body").empty().append(e.find(".single_variation_wrap .single_variation").html())}),setTimeout(function(){jQuery(document.body).on("reset_data",()=>(e.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-availability").empty(),void e.find(".mobile-infor-wrapper .infor-body").empty().append(e.closest(".information").find(".price-wrapper .price").html()).wrapInner("<p class=\"price\"></p>"))),jQuery(document.body).on("woocommerce_gallery_init_zoom",()=>{let e=$(".flex-control-thumbs").find(".flex-active").attr("src");$(".mobile-infor-wrapper img").attr("src",e)}),jQuery(document.body).on("mobile_attribute_open",()=>{e.find(".single_variation_wrap .single_variation").is(":empty")?e.find(".mobile-infor-wrapper .infor-body").empty().append(e.closest(".information").find(".price-wrapper .price").html()):e.find(".single_variation_wrap .single_variation .woocommerce-variation-price").is(":empty")?(e.find(".mobile-infor-wrapper .infor-body").empty().append(e.find(".single_variation_wrap .single_variation").html()),e.find(".mobile-infor-wrapper .infor-body .woocommerce-variation-price").empty().append(e.closest(".information").find(".price-wrapper .price").html()).wrapInner("<p class=\"price\"></p>")):e.find(".mobile-infor-wrapper .infor-body").empty().append(e.find(".single_variation_wrap .single_variation").html())})},1e3))}_initOpenAttributeMobile(){let e=$("#attribute-open");0===e.length||e.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-all"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initAddToCartClickMobile(){let e=$("#tbay-click-addtocart");0===e.length||e.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-addtocart"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initBuyNowClickMobile(){let e=$("#tbay-click-buy-now");0===e.length||e.on("click",function(){$(this).parent().parent().find("form.cart").addClass("open open-btn-buynow"),$(this).parents("#tbay-main-content").addClass("open-main-content")})}_initCloseAttributeMobile(){let e=$("#mobile-close-infor");0===e.length||e.on("click",function(){$(this).parents("form.cart").removeClass("open"),$(this).parents("form.cart").hasClass("open-btn-all")&&($(this).parents("form.cart").removeClass("open-btn-all"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parents("form.cart").hasClass("open-btn-buynow")&&($(this).parents("form.cart").removeClass("open-btn-buynow"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parents("form.cart").hasClass("open-btn-addtocart")&&($(this).parents("form.cart").removeClass("open-btn-addtocart"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))})}_initCloseAttributeMobileWrapper(){let e=$("#mobile-close-infor-wrapper");0===e.length||e.on("click",function(){$(this).parent().find("form.cart").removeClass("open"),$(this).parent().find("form.cart").hasClass("open-btn-all")&&($(this).parent().find("form.cart").removeClass("open-btn-all"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-buynow")&&($(this).parent().find("form.cart").removeClass("open-btn-buynow"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-addtocart")&&($(this).parent().find("form.cart").removeClass("open-btn-addtocart"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))})}_initAddToBidClickMobile(){let e=$("#tbay-click-addtobid");0===e.length||e.on("click",function(){0<$(".auction-ajax-change").length?($(this).parent().parent().find(".auction-ajax-change").addClass("open open-btn-addtobid"),$(this).parents("#tbay-main-content").addClass("open-main-content")):0<$("#yith-wcact-form-bid").length&&($(this).parent().parent().find("form.cart").addClass("open open-btn-addtobid"),$(this).parents("#tbay-main-content").addClass("open-main-content"))})}_initBuyNowBidClickMobile(){let e=$("#tbay-click-buy-now-bid");0===e.length||e.on("click",function(){0<$(".auction-ajax-change").length?($(this).parent().parent().find(".auction-ajax-change").addClass("open open-btn-buynowbid"),$(this).parents("#tbay-main-content").addClass("open-main-content")):0<$("#yith-wcact-form-bid").length&&($(this).parent().parent().find("form.cart").addClass("open open-btn-buynowbid"),$(this).parents("#tbay-main-content").addClass("open-main-content"))})}_initCloseAuctionsAttributeMobile(){let e=$("#mobile-auctions-close-infor");0===e.length||e.on("click",function(){0<$(".auction-ajax-change").length?($(this).parent().find(".auction-ajax-change").removeClass("open"),$(this).parent().find(".auction-ajax-change").hasClass("open-btn-buynowbid")&&($(this).parent().find(".auction-ajax-change").removeClass("open-btn-buynowbid"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find(".auction-ajax-change").hasClass("open-btn-addtobid")&&($(this).parent().find(".auction-ajax-change").removeClass("open-btn-addtobid"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))):0<$("#yith-wcact-form-bid").length&&($(this).parent().find("form.cart").removeClass("open"),$(this).parent().find("form.cart").hasClass("open-btn-buynowbid")&&($(this).parent().find("form.cart").removeClass("open-btn-buynowbid"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-addtobid")&&($(this).parent().find("form.cart").removeClass("open-btn-addtobid"),$(this).parents("#tbay-main-content").removeClass("open-main-content")))})}_initCloseAuctionsAttributeMobileWrapper(){let e=$("#mobile-auctions-close-infor-wrapper");0===e.length||e.on("click",function(){0<$(".auction-ajax-change").length?($(this).parent().find(".auction-ajax-change").removeClass("open"),$(this).parent().find(".auction-ajax-change").hasClass("open-btn-buynowbid")&&($(this).parent().find(".auction-ajax-change").removeClass("open-btn-buynowbid"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find(".auction-ajax-change").hasClass("open-btn-addtobid")&&($(this).parent().find(".auction-ajax-change").removeClass("open-btn-addtobid"),$(this).parents("#tbay-main-content").removeClass("open-main-content"))):0<$("#yith-wcact-form-bid").length&&($(this).parent().find("form.cart").removeClass("open"),$(this).parent().find("form.cart").hasClass("open-btn-buynowbid")&&($(this).parent().find("form.cart").removeClass("open-btn-buynowbid"),$(this).parents("#tbay-main-content").removeClass("open-main-content")),$(this).parent().find("form.cart").hasClass("open-btn-addtobid")&&($(this).parent().find("form.cart").removeClass("open-btn-addtobid"),$(this).parents("#tbay-main-content").removeClass("open-main-content")))})}}class ProductTabs{constructor(){"undefined"==typeof besa_settings||this._initProductTabs()}_initProductTabs(){var t=!1;$(".tbay-element-product-tabs.ajax-active").each(function(){var e=$(this);e.find(".product-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=$(this),n=e.parent().parent().data("atts"),o=e.data("value"),i=e.attr("href");t||$(i).hasClass("active-content")||(t=!0,$.ajax({url:besa_settings.ajaxurl,data:{atts:n,value:o,action:"besa_get_products_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(e){$(i).parent().addClass("load-ajax")},success:function(e){$(i).html(e.html),$(i).parent().find(".current").removeClass("current"),$(i).parent().removeClass("load-ajax"),$(i).addClass("active-content"),$(i).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){t=!1}}))})})}}class ProductCategoriesTabs{constructor(){"undefined"==typeof besa_settings||this._initProductCategoriesTabs()}_initProductCategoriesTabs(){var t=!1;$(".tbay-element-product-categories-tabs.ajax-active").each(function(){var e=$(this);e.find(".product-categories-tabs-title li a").off("click").on("click",function(a){a.preventDefault();var e=$(this),n=e.parent().parent().data("atts"),o=e.data("value"),i=e.attr("href");t||$(i).hasClass("active-content")||(t=!0,$.ajax({url:besa_settings.ajaxurl,data:{atts:n,value:o,action:"besa_get_products_categories_tab_shortcode"},dataType:"json",method:"POST",beforeSend:function(e){$(i).parent().addClass("load-ajax")},success:function(e){$(i).html(e.html),$(i).parent().find(".current").removeClass("current"),$(i).parent().removeClass("load-ajax"),$(i).addClass("active-content"),$(i).addClass("current"),$(document.body).trigger("tbay_carousel_slick"),$(document.body).trigger("tbay_ajax_tabs_products")},error:function(){console.log("ajax error")},complete:function(){t=!1}}))})})}}jQuery(document).ready(()=>{var e=new ProductItem;e._initSwatches(),e._initQuantityMode(),jQuery(document.body).trigger("tawcvs_initialized"),new AjaxCart,new WishList,new Cart,new Checkout,new WooCommon,new LoadMore,new ModalVideo("#productvideo"),new QuickView,new DisplayMode,new AjaxFilter,new ShopProduct,new SingleProduct,new ProductTabs,new ProductCategoriesTabs}),setTimeout(function(){jQuery(document.body).on("tbay_quick_view",()=>{var e=new SingleProduct;e._init_yith_auction()})},2e3),setTimeout(function(){jQuery(document.body).on("wc_fragments_refreshed wc_fragments_loaded removed_from_cart",function(){new ProductItem().initOnChangeQuantity(()=>{})})},30),jQuery(document).ready(function(e){var t=new SingleProduct;t._initFeatureVideo()}),setTimeout(function(){jQuery(document.body).on("tbay_ajax_tabs_products",()=>{var e=new ProductItem;e.initAddButtonQuantity(),e._initQuantityMode()})},2e3);var AddButtonQuantity=function(e,t){var a=new ProductItem;a.initAddButtonQuantity()},AjaxProductTabs=function(e,t){new ProductTabs,new ProductCategoriesTabs};jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof besa_settings&&elementorFrontend.isEditMode()&&Array.isArray(besa_settings.elements_ready.products)&&jQuery.each(besa_settings.elements_ready.products,function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/besa-"+t+".default",AddButtonQuantity)})}),jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof besa_settings&&elementorFrontend.isEditMode()&&Array.isArray(besa_settings.elements_ready.ajax_tabs)&&jQuery.each(besa_settings.elements_ready.ajax_tabs,function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+t+".default",AjaxProductTabs)})});
